const z="e1f09611ca3086c6b058b2cde560642a";async function O(e){const n=await(await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(e)}&limit=1&appid=${z}`)).json();if(!n.length)throw new Error("–ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω");return{lat:n[0].lat,lon:n[0].lon,name:n[0].name}}async function U(e,t){var a;return((a=(await(await fetch(`https://api.openweathermap.org/geo/1.0/reverse?lat=${e}&lon=${t}&limit=1&appid=${z}`)).json())[0])==null?void 0:a.name)||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"}async function Q(e,t){const[n,o,a]=await Promise.all([q(e,t),ae(e,t),U(e,t)]),i=n.current,r=n.daily[0];return{city:a,temperature:Math.round(i.temp),feels_like:Math.round(i.feels_like),min:Math.round(r.temp.min),max:Math.round(r.temp.max),humidity:i.humidity,dew_point:i.dew_point,pressure:i.pressure,visibility:i.visibility,sunrise:i.sunrise,sunset:i.sunset,windSpeed:i.wind_speed,windGust:i.wind_gust||0,windDeg:i.wind_deg,precipitation:r.rain||0,timezoneOffset:n.timezone_offset,daily:n.daily,aqi:o}}async function H(e){const{lat:t,lon:n}=await O(e);return Q(t,n)}async function ne(e){const{lat:t,lon:n}=await O(e);return(await q(t,n)).hourly.slice(0,20).map(a=>({time:new Date(a.dt*1e3).toLocaleTimeString("ru-RU",{hour:"2-digit"}),temp:a.temp,icon:a.weather[0].icon}))}async function q(e,t){return(await fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${t}&units=metric&exclude=minutely,alerts&lang=ru&appid=${z}`)).json()}async function ae(e,t){var a,i;return((i=(a=(await(await fetch(`https://api.openweathermap.org/data/2.5/air_pollution?lat=${e}&lon=${t}&appid=${z}`)).json()).list[0])==null?void 0:a.main)==null?void 0:i.aqi)||1}const P={ru:{Search:"–ü–æ–∏—Å–∫",add:"–î–æ–±–∞–≤–∏—Ç—å +",deleteAll:"–£–¥–∞–ª–∏—Ç—å –≤—Å–µ",MAX:"–ú–∞–∫—Å.:",MIN:"–ú–∏–Ω.:",currentCity:"–¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ",feels:"–ü–æ –æ—â—É—â–µ–Ω–∏—è–º –∫–∞–∫:",hourlyTitle:"–ü–û–ß–ê–°–û–í–û–ô –ü–†–û–ì–ù–û–ó",airQuality:"–ö–ê–ß–ï–°–¢–í–û –í–û–ó–î–£–•–ê",noLabel:"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö",veryGood:"–û—Ç–ª–∏—á–Ω–æ–µ",good:"–•–æ—Ä–æ—à–µ–µ",notGood:"–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ",bad:"–ü–ª–æ—Ö–æ–µ",veryBad:"–û—á–µ–Ω—å –ø–ª–æ—Ö–æ–µ",clearAir:"–í–æ–∑–¥—É—Ö —á–∏—Å—Ç—ã–π, –±–µ–∑ –≤—Ä–µ–¥–∞ –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è",goodQuality:"–ö–∞—á–µ—Å—Ç–≤–æ —Ö–æ—Ä–æ—à–µ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –≤—Å–µ—Ö",easeBadAir:"–õ—ë–≥–∫–æ–µ —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ —É —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö",badAir:"–í—Ä–µ–¥–Ω–æ –¥–ª—è –ª—é–¥–µ–π —Å –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è–º–∏",dangerous:"–û–ø–∞—Å–Ω–æ –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è, –∏–∑–±–µ–≥–∞—Ç—å —É–ª–∏—Ü—ã",today:"–°–µ–≥–æ–¥–Ω—è",dailyTitle:"–ü–†–û–ì–ù–û–ó –ù–ê 10 –î–ù–ï–ô",feelsLike:"–û–©–£–©–ê–ï–¢–°–Ø –ö–ê–ö",fackt:"–§–∞–∫—Ç–∏—á–µ—Å–∫–∏:",veryCold:"–û—á–µ–Ω—å —Ö–æ–ª–æ–¥–Ω–æ",cold:"–ü—Ä–æ—Ö–ª–∞–¥–Ω–æ",comfort:"–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ",warm:"–¢–µ–ø–ª–æ",hot:"–ñ–∞—Ä–∫–æ",humidity:"–í–õ–ê–ñ–ù–û–°–¢–¨",devPoint:"–¢–æ—á–∫–∞ —Ä–æ—Å—ã:",pressure:"–î–ê–í–õ–ï–ù–ò–ï",Gpa:"–≥–ü–∞",up:"–í–æ—Å—Ö–æ–¥",down:"–ó–∞–∫–∞—Ç",meters:"–º",kilomiters:"–∫–º",visibility:"–í–ò–î–ò–ú–û–°–¢–¨",veryGoodVisibility:"–ò–¥–µ–∞–ª—å–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å",goodVisibility:"–•–æ—Ä–æ—à–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å",mediumVisibility:"–°—Ä–µ–¥–Ω—è—è –≤–∏–¥–∏–º–æ—Å—Ç—å",badVisibility:"–ü–ª–æ—Ö–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å",wind:"–í–ï–¢–ï–†",speed:"–∫–º/—á",gusts:"–ü–æ—Ä—ã–≤—ã",deg:"–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ",s:"–°",sv:"–°–í",v:"–í",uv:"–Æ–í",u:"–Æ",uz:"–Æ–ó",z:"–ó",sz:"–°–ó",Not:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",weekdays:["–í—Å","–ü–Ω","–í—Ç","–°—Ä","–ß—Ç","–ü—Ç","–°–±"]},ua:{Search:"–ü–æ—à—É–∫",add:"–î–æ–¥–∞—Ç–∏ +",deleteAll:"–í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å–µ",MAX:"–ú–∞–∫—Å.:",MIN:"–ú—ñ–Ω.:",currentCity:"–ü–æ—Ç–æ—á–Ω–µ –º—ñ—Å—Ü–µ",feels:"–í—ñ–¥—á—É–≤–∞—î—Ç—å—Å—è —è–∫:",hourlyTitle:"–ü–û–ì–û–î–ê –ü–û –ì–û–î–ò–ù–ê–•",airQuality:"–Ø–ö–Ü–°–¢–¨ –ü–û–í–Ü–¢–†–Ø",noLabel:"–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö",veryGood:"–í—ñ–¥–º—ñ–Ω–Ω–∞",good:"–•–æ—Ä–æ—à–∞",notGood:"–ó–∞–¥–æ–≤—ñ–ª—å–Ω–∞",bad:"–ü–æ–≥–∞–Ω–∞",veryBad:"–î—É–∂–µ –ø–æ–≥–∞–Ω–∞",clearAir:"–ü–æ–≤—ñ—Ç—Ä—è —á–∏—Å—Ç–µ, –±–µ–∑–ø–µ—á–Ω–æ –¥–ª—è –∑–¥–æ—Ä–æ–≤'—è",goodQuality:"–Ø–∫—ñ—Å—Ç—å —Ö–æ—Ä–æ—à–∞, –±–µ–∑–ø–µ—á–Ω–æ –¥–ª—è –≤—Å—ñ—Ö",easeBadAir:"–ú–æ–∂–ª–∏–≤–µ –ª–µ–≥–∫–µ –ø–æ–¥—Ä–∞–∑–Ω–µ–Ω–Ω—è —É —á—É—Ç–ª–∏–≤–∏—Ö –ª—é–¥–µ–π",badAir:"–®–∫—ñ–¥–ª–∏–≤–æ –¥–ª—è –ª—é–¥–µ–π —ñ–∑ –∑–∞—Ö–≤–æ—Ä—é–≤–∞–Ω–Ω—è–º–∏",dangerous:"–ù–µ–±–µ–∑–ø–µ—á–Ω–æ –¥–ª—è –∑–¥–æ—Ä–æ–≤‚Äô—è, —É–Ω–∏–∫–∞–π—Ç–µ –≤—É–ª–∏—Ü—ñ",today:"–°—å–æ–≥–æ–¥–Ω—ñ",dailyTitle:"–ü–†–û–ì–ù–û–ó –ù–ê 10 –î–ù–Ü–í",feelsLike:"–í–Ü–î–ß–£–í–ê–Ñ–¢–¨–°–Ø –Ø–ö",fackt:"–§–∞–∫—Ç–∏—á–Ω–æ:",veryCold:"–î—É–∂–µ —Ö–æ–ª–æ–¥–Ω–æ",cold:"–ü—Ä–æ—Ö–æ–ª–æ–¥–Ω–æ",comfort:"–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ",warm:"–¢–µ–ø–ª–æ",hot:"–ñ–∞—Ä–∫–æ",humidity:"–í–û–õ–û–ì–Ü–°–¢–¨",devPoint:"–¢–æ—á–∫–∞ —Ä–æ—Å–∏:",pressure:"–¢–ò–°–ù–Ø–í–ò–ô",Gpa:"–≥–ü–∞",up:"–°—Ö—ñ–¥",down:"–ó–∞—Ö—ñ–¥",meters:"–º",kilomiters:"–∫–º",visibility:"–í–ò–î–ò–ú–Ü–°–¢–¨",veryGoodVisibility:"–Ü–¥–µ–∞–ª—å–Ω–∞ –≤–∏–¥–∏–º—ñ—Å—Ç—å",goodVisibility:"–•–æ—Ä–æ—à–∞ –≤–∏–¥–∏–º—ñ—Å—Ç—å",mediumVisibility:"–°–µ—Ä–µ–¥–Ω—è –≤–∏–¥–∏–º—ñ—Å—Ç—å",badVisibility:"–ü–æ–≥–∞–Ω–∞ –≤–∏–¥–∏–º—ñ—Å—Ç—å",wind:"–í–Ü–¢–ï–†",speed:"–∫–º/–≥–æ–¥",gusts:"–ü–æ—Ä–∏–≤–∏",deg:"–ù–∞–ø—Ä—è–º–æ–∫",s:"–ü–Ω",sv:"–ü–Ω–°—Ö",v:"–°—Ö",uv:"–ü–¥–°—Ö",u:"–ü–¥",uz:"–ü–¥–ó—Ö",z:"–ó—Ö",sz:"–ü–Ω–ó—Ö",Not:"–ù–µ–≤—ñ–¥–æ–º–æ",weekdays:["–ù–¥","–ü–Ω","–í—Ç","–°—Ä","–ß—Ç","–ü—Ç","–°–±"]},cz:{Search:"Hledat",add:"P≈ôidat +",deleteAll:"Smazat v≈°e",MAX:"Max.:",MIN:"Min.:",currentCity:"Aktu√°ln√≠ poloha",feels:"Pocitovƒõ:",hourlyTitle:"HODINOV√Å P≈òEDPOVƒöƒé",airQuality:"KVALITA OVZDU≈†√ç",noLabel:"≈Ω√°dn√° data",veryGood:"V√Ωborn√°",good:"Dobr√°",notGood:"Uspokojiv√°",bad:"≈†patn√°",veryBad:"Velmi ≈°patn√°",clearAir:"ƒåist√Ω vzduch, bez zdravotn√≠ho rizika",goodQuality:"Dobr√° kvalita, bezpeƒçn√© pro v≈°echny",easeBadAir:"M√≠rn√© podr√°≈ædƒõn√≠ pro citliv√© osoby",badAir:"≈†kodliv√© pro osoby s nemocemi",dangerous:"Nebezpeƒçn√© pro zdrav√≠, vyh√Ωbejte se venku",today:"Dnes",dailyTitle:"P≈òEDPOVƒöƒé NA 10 DN√ç",feelsLike:"POCITOVƒö",fackt:"Skuteƒçnƒõ:",veryCold:"Velmi chladno",cold:"Chladno",comfort:"P≈ô√≠jemnƒõ",warm:"Teplo",hot:"Horko",humidity:"VLHKOST",devPoint:"Rosn√Ω bod:",pressure:"TLAK",Gpa:"hPa",up:"V√Ωchod",down:"Z√°pad",meters:"m",kilomiters:"km",visibility:"VIDITELNOST",veryGoodVisibility:"Perfektn√≠ viditelnost",goodVisibility:"Dobr√° viditelnost",mediumVisibility:"St≈ôedn√≠ viditelnost",badVisibility:"≈†patn√° viditelnost",wind:"V√çTR",speed:"km/h",gusts:"N√°razy",deg:"Smƒõr",s:"S",sv:"SV",v:"V",uv:"JV",u:"J",uz:"JZ",z:"Z",sz:"SZ",Not:"Nezn√°m√©",weekdays:["Ne","Po","√öt","St","ƒåt","P√°","So"]},en:{Search:"Search",add:"Add +",deleteAll:"Delete all",MAX:"Max:",MIN:"Min:",currentCity:"Current location",feels:"Feels like:",hourlyTitle:"HOURLY FORECAST",airQuality:"AIR QUALITY",noLabel:"No data",veryGood:"Excellent",good:"Good",notGood:"Moderate",bad:"Poor",veryBad:"Very Poor",clearAir:"Clean air, no health risk",goodQuality:"Good quality, safe for everyone",easeBadAir:"Slight irritation for sensitive people",badAir:"Harmful for people with conditions",dangerous:"Dangerous, avoid going outside",today:"Today",dailyTitle:"10-DAY FORECAST",feelsLike:"FEELS LIKE",fackt:"Actual:",veryCold:"Very cold",cold:"Cool",comfort:"Comfortable",warm:"Warm",hot:"Hot",humidity:"HUMIDITY",devPoint:"Dew point:",pressure:"PRESSURE",Gpa:"hPa",up:"Sunrise",down:"Sunset",meters:"m",kilomiters:"km",visibility:"VISIBILITY",veryGoodVisibility:"Perfect visibility",goodVisibility:"Good visibility",mediumVisibility:"Moderate visibility",badVisibility:"Poor visibility",wind:"WIND",speed:"km/h",gusts:"Gusts",deg:"Direction",s:"N",sv:"NE",v:"E",uv:"SE",u:"S",uz:"SW",z:"W",sz:"NW",Not:"Unknown",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}};function j(e){if(!e||!e.city)return console.warn("Header –ø–æ–ª—É—á–∏–ª –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:",e),document.createElement("div");const t=localStorage.getItem("lang")||"ru",n=P[t],o=document.createElement("header");o.className="header";const a=document.createElement("div");a.className="HeaderLocation",a.textContent=e.city,o.appendChild(a);const i=document.createElement("div");if(i.className="HeaderTemperature",i.textContent=`${e.temperature}¬∞`,o.appendChild(i),e.feels_like!==void 0){const r=document.createElement("div");r.className="HeaderFeels",r.textContent=` ${n.feels} ${e.feels_like}¬∞`,o.appendChild(r)}if(e.min!==void 0&&e.max!==void 0){const r=document.createElement("div");r.className="HeaderMinMax",r.textContent=`${n.MAX} ${e.max}¬∞, ${n.MIN} ${e.min}¬∞`,o.appendChild(r)}return o}function ie({time:e,temp:t,icon:n}){const o=document.createElement("div");o.className="hour-card";const a=document.createElement("div");a.className="hour-time",a.textContent=e;const i=document.createElement("div");i.className="hour-icon",i.textContent=oe(n);const r=document.createElement("div");return r.className="hour-temp",r.textContent=`${Math.round(t)}¬∞`,o.appendChild(a),o.appendChild(i),o.appendChild(r),o}function oe(e){return{"01d":"‚òÄÔ∏è","01n":"üåô","02d":"‚õÖÔ∏è","02n":"‚òÅÔ∏è","03d":"üå•Ô∏è","03n":"üå•Ô∏è","04d":"‚òÅÔ∏è","04n":"‚òÅÔ∏è","09d":"üåßÔ∏è","09n":"üåßÔ∏è","10d":"üå¶Ô∏è","10n":"üåßÔ∏è","11d":"‚õàÔ∏è","11n":"üå©Ô∏è","13d":"‚ùÑÔ∏è","13n":"‚ùÑÔ∏è"}[e]||"‚ùì"}function re(e,t=!1,n=!1){const o=new Date(e.dt*1e3),a=new Date,i=localStorage.getItem("lang")||"ru",r=P[i],p=o.getDate()===a.getDate()&&o.getMonth()===a.getMonth()&&o.getFullYear()===a.getFullYear(),l=o.getDay(),s=p?r.today:r.weekdays[l];function m(h){return h.charAt(0).toUpperCase()+h.slice(1)}const v=ce(e.weather[0].icon),T=e.pop?Math.round(e.pop*100):0,S=Math.round(e.temp.min),$=Math.round(e.temp.max),E=document.createElement("div");if(E.className="daily-wrapper",t){const h=document.createElement("div");h.className="header-card";const C=document.createElement("i");C.className="fa-regular fa-calendar-days icon";const w=document.createElement("div");w.className="daily-title title",w.textContent=r.dailyTitle,h.appendChild(C),h.appendChild(w),E.appendChild(h);const N=document.createElement("hr");N.className="underline",E.appendChild(N)}const I=document.createElement("div");I.className="daily-card";const L=document.createElement("div");L.className="daily-week",L.textContent=m(s);const D=document.createElement("div");D.className="icon-rain-wrapper";const d=document.createElement("div");if(d.className="daily-icon",d.textContent=v,D.appendChild(d),T>0){const h=document.createElement("div");h.className="daily-rain",h.textContent=`${T}%`,D.appendChild(h)}const c=document.createElement("div");c.className="daily-temp-bar";const g=document.createElement("span");g.className="temp-min",g.textContent=`${S}¬∞`;const f=document.createElement("div");f.className="bar",f.style.width=`${($-S)*4}px`,f.style.background=de(S,$);const u=document.createElement("span");if(u.className="temp-max",u.textContent=`${$}¬∞`,c.appendChild(g),c.appendChild(f),c.appendChild(u),I.appendChild(L),I.appendChild(D),I.appendChild(c),E.appendChild(I),!n){const h=document.createElement("hr");h.className="underline",E.appendChild(h)}return E}function ce(e){return{"01d":"‚òÄÔ∏è","01n":"üåô","02d":"‚õÖÔ∏è","02n":"‚òÅÔ∏è","03d":"üå•Ô∏è","03n":"üå•Ô∏è","04d":"‚òÅÔ∏è","04n":"‚òÅÔ∏è","09d":"üåßÔ∏è","09n":"üåßÔ∏è","10d":"üå¶Ô∏è","10n":"üåßÔ∏è","11d":"‚õàÔ∏è","11n":"üå©Ô∏è","13d":"‚ùÑÔ∏è","13n":"‚ùÑÔ∏è"}[e]||"‚ùì"}function de(e,t){return t<=0?"linear-gradient(to right, #001f3f, #0074D9)":t>0&&t<=5?"linear-gradient(to right, #0074D9, #7FDBFF)":t>5&&t<=15?"linear-gradient(to right, #7FDBFF, #FFE066)":t>15&&t<=25?"linear-gradient(to right, #FFE066, orange)":"linear-gradient(to right, orange, red)"}function se(e){const t=localStorage.getItem("lang")||"ru",n=P[t],a=e<1e3?`${e} ${n.meters}`:`${(e/1e3).toFixed(1)} ${n.kilomiters}`,i=le(e,n),r=document.createElement("div");r.className="card visibility-card";const p=document.createElement("div");p.className="header-card header";const l=document.createElement("i");l.className="fa-solid fa-eye icon";const s=document.createElement("div");s.className="title",s.textContent=n.visibility,p.appendChild(l),p.appendChild(s);const m=document.createElement("div");m.className="value-visibility",m.textContent=a;const v=document.createElement("div");return v.className="label-visibility",v.textContent=i,r.appendChild(p),r.appendChild(m),r.appendChild(v),r}function le(e,t){const n=e/1e3;return n>9?t.veryGoodVisibility:n>5?t.goodVisibility:n>3?t.mediumVisibility:t.badVisibility}function me(e,t){const n=localStorage.getItem("lang")||"ru",o=P[n],a=ue(e,o),i=document.createElement("div");i.className="card feels-card";const r=document.createElement("div");r.className="header-card";const p=document.createElement("i");p.className="fa-solid fa-temperature-three-quarters feels-icon icon";const l=document.createElement("div");l.className="title",l.textContent=o.feelsLike,r.appendChild(p),r.appendChild(l);const s=document.createElement("div");s.className="value-feels",s.textContent=`${Math.round(e)}¬∞`;const m=document.createElement("div");m.className="feels-fact",m.textContent=`${o.fackt} ${Math.round(t)}¬∞`;const v=document.createElement("div");return v.className="label-fells",v.textContent=a,i.appendChild(r),i.appendChild(s),i.appendChild(m),i.appendChild(v),i}function ue(e,t){return e<=0?t.veryCold:e<=10?t.cold:e<=20?t.comfort:e<=30?t.warm:t.hot}function pe(e,t){const n=localStorage.getItem("lang")||"ru",o=P[n],a=document.createElement("div");a.className="card humidity-card";const i=document.createElement("div");i.className="header-card";const r=document.createElement("i");r.className="fa-solid fa-droplet";const p=document.createElement("span");p.className="title",p.textContent=o.humidity,i.appendChild(r),i.appendChild(p);const l=document.createElement("div");l.className="value-humidity",l.textContent=`${e}%`;const s=document.createElement("div");return s.className="dew-point",s.textContent=`${o.devPoint} ${Math.round(t)}¬∞`,a.appendChild(i),a.appendChild(l),a.appendChild(s),a}function he(e){const t=localStorage.getItem("lang")||"ru",n=P[t],o=document.createElement("div");o.className="air-quality-card card";const a=document.createElement("div");a.className="header-card";const i=document.createElement("i");i.className="fa-solid fa-wind icon";const r=document.createElement("div");r.className="title",r.textContent=n.airQuality,a.appendChild(i),a.appendChild(r);const p=document.createElement("div");p.className="label-air",p.textContent=fe(e,n);const l=document.createElement("div");l.className="air-bar";const s=document.createElement("div");s.className="air-indicator",s.style.left=`${(e-1)*25}%`,l.appendChild(s);const m=document.createElement("div");return m.className="note-air",m.textContent=ye(e,n),o.appendChild(a),o.appendChild(p),o.appendChild(l),o.appendChild(m),o}function fe(e,t){return[t.noLabel,t.veryGood,t.good,t.notGood,t.bad,t.veryBad][e]||t.noLabel}function ye(e,t){return["",t.clearAir,t.goodQuality,t.easeBadAir,t.badAir,t.dangerous][e]||t.noLabel}function ve(e,t,n){const o=localStorage.getItem("lang")||"ru",a=P[o],r=Math.floor(Date.now()/1e3)+n;let p,l,s;r>=t?(p=a.up,l=R(e+86400,n),s=`${a.down} ${R(t+86400,n)}`):(p=a.down,l=R(t,n),s=`${a.up} ${R(e,n)}`);const m=document.createElement("div");m.className="card sun-card";const v=document.createElement("div");v.className="header-card header";const T=document.createElement("i");T.className=p===a.up?"fa-solid fa-sun icon":"fa-solid fa-moon icon";const S=document.createElement("div");S.className="title",S.textContent=p;const $=document.createElement("div");$.className="value sun-value",$.textContent=l;const E=document.createElement("div");return E.className="label sun-label",E.textContent=s,v.appendChild(T),v.appendChild(S),m.appendChild(v),m.appendChild($),m.appendChild(E),m}function R(e,t){const n=(e+t)*1e3;return new Intl.DateTimeFormat("ru-RU",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).format(new Date(n))}function ge(e){const t=localStorage.getItem("lang")||"ru",n=P[t],o=document.createElement("div");o.className="pressure-card card";const a=document.createElement("div");a.className="header-pressure header-card";const i=document.createElement("i");i.className="fa-solid fa-gauge icon";const r=document.createElement("div");r.className="header-title title",r.textContent=n.pressure,a.appendChild(i),a.appendChild(r);const p=document.createElement("div");p.className="main-pressure";const l=document.createElement("div");l.className="pressure-value",l.textContent=`${e}`;const s=document.createElement("div");return s.className="pressure-text",s.textContent=n.Gpa,p.appendChild(l),p.appendChild(s),o.appendChild(a),o.appendChild(p),o}function Ce(e){const t=document.createElement("div");t.className="card precipitation-card";const n=document.createElement("div");n.className="precipitation-header header";const o=document.createElement("span");o.className="material-symbols-outlined icon",o.textContent="humidity_high";const a=document.createElement("div");a.className="precipitation-title",a.textContent="–û–°–ê–î–ö–ò",n.appendChild(o),n.appendChild(a);const i=document.createElement("div");return i.className="precipitation-value",i.textContent=`${e??0} –º–º`,t.appendChild(n),t.appendChild(i),t}function Ee(e,t,n){const o=localStorage.getItem("lang")||"ru",a=P[o],i=document.createElement("div");i.className="card wind-card";const r=document.createElement("div");r.className="header-wind header-card";const p=document.createElement("i");p.className="fa-solid fa-wind icon";const l=document.createElement("div");l.className="title",l.textContent=a.wind,r.appendChild(p),r.appendChild(l);const s=document.createElement("div");s.className="container-wind-speed";const m=document.createElement("div");m.className="wind-speed-left",m.textContent=a.wind;const v=document.createElement("div");v.className="value-wind",v.textContent=`${e} ${a.speed}`,s.appendChild(m),s.appendChild(v);const T=document.createElement("hr");T.className="underline";const S=document.createElement("div");S.className="container-gust-text";const $=document.createElement("div");$.className="guest-text-left",$.textContent=a.gusts;const E=document.createElement("div");E.className="label-gust",E.textContent=`${t} ${a.speed}`,S.appendChild($),S.appendChild(E);const I=document.createElement("hr");I.className="underline";const L=document.createElement("div");L.className="container-dirextion-text";const D=document.createElement("div");D.className="direction-left",D.textContent=a.deg;const d=document.createElement("div");return d.className="label-direction",d.textContent=`${n}¬∞ ${we(n,a)}`,L.appendChild(D),L.appendChild(d),i.appendChild(r),i.appendChild(s),i.appendChild(T),i.appendChild(S),i.appendChild(I),i.appendChild(L),i}function we(e,t){return e>=337.5||e<22.5?t.s:e>=22.5&&e<67.5?t.sv:e>=67.5&&e<112.5?t.v:e>=112.5&&e<157.5?t.uv:e>=157.5&&e<202.5?t.u:e>=202.5&&e<247.5?t.uz:e>=247.5&&e<292.5?t.z:e>=292.5&&e<337.5?t.sz:t.Not}function Z(e,t,n,o,a,i,r,p,l,s,m,v,T,S,$,E){const I=document.createElement("main");I.className="main";const L=window.innerWidth,D=document.createElement("div");D.className="hourly-wrapper card";const d=document.createElement("div");d.className="hourly-header header-card";const c=document.createElement("i");c.className="fa-regular fa-clock icon";const g=document.createElement("div");g.className="hourly-title title",g.textContent="–ü–û–ß–ê–°–û–í–û–ô –ü–†–û–ì–ù–û–ó";const f=document.createElement("hr");f.className="second-underline",d.append(c,g),D.append(d,f);const u=document.createElement("div");u.className="hourly-container",e.forEach(x=>{const k=ie(x);u.appendChild(k)}),D.appendChild(u),I.appendChild(D);const h=document.createElement("div");h.className="bottom-wrapper";const C=document.createElement("div");C.className="daily-container card",r.slice(0,10).forEach((x,k,V)=>{const B=k===0,F=k===V.length-1,te=re(x,B,F);C.appendChild(te)});const w=se(t),N=me(n,i),A=pe(o,a),b=he(s),M=ve(p,l,m),_=ge(v);Ce(T);const G=Ee(S,$,E),W=document.createElement("div");if(W.className="extra-cards",L>=990){W.append(G,b);const x=document.createElement("div");x.className="sun-air-pres-wrapper",x.append(M,w,_);const k=document.createElement("div");k.className="humidity-feels-wrapper",k.append(A,N),W.append(x,k),h.append(C,W)}else if(L>=750){const x=document.createElement("div");x.className="first-block";const k=document.createElement("div");k.className="right-first-block",k.append(A,N,w),x.append(C,k);const V=document.createElement("div");V.className="second-block";const B=document.createElement("div");B.className="right-second-block",B.append(_,M);const F=document.createElement("div");F.className="left-second-block",F.append(G,b),V.append(F,B),W.append(x,V),h.append(W)}else{const x=document.createElement("div");x.className="block",x.appendChild(C);const k=document.createElement("div");k.className="second-block",k.appendChild(w),k.appendChild(N);const V=document.createElement("div");V.className="third-block",V.appendChild(M),V.appendChild(A),x.appendChild(k),x.appendChild(b),x.appendChild(V),x.appendChild(G),h.appendChild(x)}return I.appendChild(h),I}window.addEventListener("resize",()=>{});function Ne(){const e=localStorage.getItem("lang")||"ru",t=P[e],n=document.createElement("nav");n.className="nav";const o=document.createElement("i");o.className="fa-solid fa-bars";const a=document.createElement("div");a.className="menu-panel";const i=document.createElement("div");i.className="favorites-container",a.appendChild(i),document.body.appendChild(a);const r=document.createElement("form");r.className="search-form",r.addEventListener("submit",d=>d.preventDefault());const p=document.createElement("span");p.className="material-symbols-outlined search-icon",p.textContent="search";const l=document.createElement("input");l.placeholder=t.Search,l.className="search-input";const s=document.createElement("button");s.textContent=t.add,s.className="add-button",s.style.display="none";let m="",v;l.addEventListener("input",()=>{m=l.value.trim(),clearTimeout(v),v=setTimeout(()=>{if(!m)return;if(!/^[a-zA-Z\s\-]+$/.test(m)){s.style.display="none";return}m=m.charAt(0).toUpperCase()+m.slice(1).toLowerCase();const u=JSON.parse(localStorage.getItem("favorites")||"[]").includes(m);s.style.display=u?"none":"inline-block",E(m)},800)}),s.addEventListener("click",()=>{const d=JSON.parse(localStorage.getItem("favorites")||"[]");d.includes(m)||(d.push(m),localStorage.setItem("favorites",JSON.stringify(d)),T()),s.style.display="none"}),r.append(s,p,l),n.append(o,r),o.addEventListener("click",()=>{const d=a.classList.toggle("open");document.body.classList.toggle("menu-open",d)});async function T(){i.innerHTML="";let d=sessionStorage.getItem("geoCity"),c;if(d)c=await H(d);else try{const f=await new Promise((C,w)=>navigator.geolocation.getCurrentPosition(C,w)),u=f.coords.latitude,h=f.coords.longitude;c=await Q(u,h),d=c.city,sessionStorage.setItem("geoCity",d)}catch{console.warn("–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞")}if(c){const f=Math.floor(Date.now()/1e3),u=L(c.daily[0].weather[0].icon,f,c.sunrise,c.sunset),h=$(c.city,c,u,!0);i.appendChild(h)}const g=JSON.parse(localStorage.getItem("favorites")||"[]");for(const f of g)if(!(d&&f===d))try{const u=await H(f),h=Math.floor(Date.now()/1e3)+u.timezoneOffset,C=L(u.daily[0].weather[0].icon,h,u.sunrise,u.sunset),w=$(f,u,C);i.appendChild(w)}catch(u){console.error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ${f}`,u)}if(g.length>0){const f=document.createElement("div");f.className="container-delete";const u=document.createElement("button");u.className="delete-button",u.textContent=t.deleteAll;const h=document.createElement("i");h.className="fa-solid fa-trash",f.addEventListener("click",()=>{localStorage.removeItem("favorites"),T()}),f.appendChild(u),f.appendChild(h),i.appendChild(f)}S()}function S(){let d=document.querySelector(".container-language");d&&d.remove(),d=document.createElement("div"),d.className="container-language",[{code:"ru",label:"RU"},{code:"en",label:"EN"},{code:"ua",label:"UA"},{code:"cz",label:"CZ"}].forEach(({code:g,label:f})=>{const u=document.createElement("button");u.className="lang-button",u.textContent=f,u.addEventListener("click",()=>{localStorage.setItem("lang",g),location.reload()}),d.appendChild(u)}),a.appendChild(d)}function $(d,c,g,f=!1){const u=document.createElement("div");u.className="city-card",f&&u.classList.add("geo-card"),window.innerWidth<600&&(u.style.background=g),u.addEventListener("click",()=>{E(d),window.innerWidth<600&&(document.body.classList.remove("menu-open"),a.classList.remove("open"))});const h=document.createElement("div");h.className="left-container";const C=document.createElement("div");if(C.className="city",C.textContent=D(c.city),h.appendChild(C),f){const M=document.createElement("div");M.className="location-label",M.textContent=t.currentCity,h.appendChild(M)}else{const M=document.createElement("div");M.className="time";const _=Date.now(),G=c.timezoneOffset*1e3,W=new Date(_+G);M.textContent=W.toLocaleTimeString("ru-RU",{timeZone:"UTC",hour:"2-digit",minute:"2-digit"}),h.appendChild(M)}const w=document.createElement("div");w.className="weather",w.textContent=D(c.daily[0].weather[0].description),h.appendChild(w);const N=document.createElement("div");N.className="right-container";const A=document.createElement("div");A.className="temp",A.textContent=`${Math.round(c.temperature)}¬∞`;const b=document.createElement("div");return b.className="min-max",b.textContent=`${t.MAX} ${Math.round(c.max)}¬∞, ${t.MIN} ${Math.round(c.min)}¬∞`,N.append(A,b),u.append(h,N),u}function E(d){H(d).then(c=>{const g=document.querySelector("#app"),f=document.body.classList.contains("menu-open"),u=document.querySelector(".content-wrapper");u&&u.remove();const h=j(c),C=Math.floor(Date.now()/1e3),w=c.daily[0].weather[0].icon;I(w,C,c.sunrise,c.sunset),ne(d).then(N=>{const A=Z(N,c.visibility,c.feels_like,c.humidity,c.dew_point,c.temperature,c.daily,c.sunrise,c.sunset,c.aqi,c.timezoneOffset,c.pressure,c.precipitation,c.windSpeed,c.windGust,c.windDeg),b=document.createElement("div");b.className="content-wrapper",b.append(h,A),g.appendChild(b),f&&document.body.classList.add("menu-open")})})}function I(d,c,g,f){document.body.style.background=L(d,c,g,f)}function L(d,c,g,f){const u=g-1800,h=g+900,C=f-900,w=f+1800;let N;c<u?N="night":c<=h?N="dawn":c<C?N="day":c<=w?N="dusk":N="night";const A={day:{clear:"linear-gradient(to bottom, #2275b8, #5baee5)",clouds:"linear-gradient(to bottom, #a5aaaf, #72777d)",rain:"linear-gradient(to bottom, #4b79a1, #283e51)",snow:"linear-gradient(to bottom, #e6dada, #274046)",thunder:"linear-gradient(to bottom, #232526, #414345)"},night:{clear:"linear-gradient(to bottom, #0a1029, #1a2d5a)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"},dawn:{clear:"linear-gradient(to bottom, #2a4378, #a05971)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"},dusk:{clear:"linear-gradient(to bottom, #1c2a48, #4a6d91, #e0c79d)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"}};let b;return d.startsWith("01")?b="clear":/^(02|03|04)/.test(d)?b="clouds":/^(09|10)/.test(d)?b="rain":d.startsWith("11")?b="thunder":d.startsWith("13")?b="snow":b="clear",A[N][b]||A.day.clear}function D(d){return d.charAt(0).toUpperCase()+d.slice(1)}return T(),n}let y=null,Y="",J=null,X=1;const be=document.querySelector("#app");be.appendChild(Ne());navigator.geolocation.getCurrentPosition(async e=>{const t=e.coords.latitude,n=e.coords.longitude;try{const a=await(await fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${t}&lon=${n}&appid=${z}&units=metric&exclude=minutely,alerts`)).json(),p=(await(await fetch(`https://api.openweathermap.org/data/2.5/air_pollution?lat=${t}&lon=${n}&appid=${z}`)).json()).list[0].main.aqi,l=await U(t,n);y=a,Y=l,X=p,J=a.hourly.slice(0,20).map(s=>({time:new Date(s.dt*1e3).toLocaleTimeString("ru-RU",{hour:"2-digit"}),temp:s.temp,icon:s.weather[0].icon})),K(),xe()}catch(o){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞:",o)}},e=>{alert("–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ"),console.warn(e)});function K(){const e=document.querySelector("#app"),t=document.querySelector(".content-wrapper");t&&t.remove();const n=Math.floor(Date.now()/1e3),o=y.daily[0].weather[0].icon;ee(o,y.current.sunrise,y.current.sunset,n);const a=j({city:Y,temperature:Math.round(y.current.temp),feels_like:Math.round(y.current.feels_like),min:Math.round(y.daily[0].temp.min),max:Math.round(y.daily[0].temp.max)}),i=Z(J,y.current.visibility,y.current.feels_like,y.current.humidity,y.current.dew_point,y.current.temp,y.daily,y.current.sunrise,y.current.sunset,X,y.timezone_offset,y.current.pressure,y.daily[0].rain||0,y.current.wind_speed,y.current.wind_gust||0,y.current.wind_deg),r=document.createElement("div");r.className="content-wrapper",r.appendChild(a),r.appendChild(i),e.appendChild(r)}window.addEventListener("resize",()=>{y&&K()});function ee(e,t,n,o){const a=t-1800,i=t+900,r=n-900,p=n+1800;let l;o<a?l="night":o<=i?l="dawn":o<r?l="day":o<=p?l="dusk":l="night";const s={day:{clear:"linear-gradient(to bottom, #2275b8, #5baee5)",clouds:"linear-gradient(to bottom, #a5aaaf, #72777d)",rain:"linear-gradient(to bottom, #4b79a1, #283e51)",snow:"linear-gradient(to bottom, #e6dada, #274046)",thunder:"linear-gradient(to bottom, #232526, #414345)"},night:{clear:"linear-gradient(to bottom, #0a1029, #1a2d5a)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"},dawn:{clear:"linear-gradient(to bottom, #2a4378, #a05971)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"},dusk:{clear:"linear-gradient(to bottom, #1c2a48, #4a6d91, #e0c79d)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"}};let m;e.startsWith("01")?m="clear":/^(02|03|04)/.test(e)?m="clouds":/^(09|10)/.test(e)?m="rain":e.startsWith("11")?m="thunder":e.startsWith("13")?m="snow":m="clear";const v=s[l][m]||s.day.clear;document.body.style.background=v}function xe(){setInterval(()=>{if(y){const e=Math.floor(Date.now()/1e3),t=y.daily[0].weather[0].icon;ee(t,y.current.sunrise,y.current.sunset,e)}},10*60*1e3)}
//# sourceMappingURL=main.js.map
