const z="e1f09611ca3086c6b058b2cde560642a";async function O(e){const n=await(await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(e)}&limit=1&appid=${z}`)).json();if(!n.length)throw new Error("Ğ“Ğ¾Ñ€Ğ¾Ğ´ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½");return{lat:n[0].lat,lon:n[0].lon,name:n[0].name}}async function U(e,t){var a;return((a=(await(await fetch(`https://api.openweathermap.org/geo/1.0/reverse?lat=${e}&lon=${t}&limit=1&appid=${z}`)).json())[0])==null?void 0:a.name)||"ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾"}async function Q(e,t){const[n,o,a]=await Promise.all([q(e,t),ae(e,t),U(e,t)]),i=n.current,r=n.daily[0];return{city:a,temperature:Math.round(i.temp),feels_like:Math.round(i.feels_like),min:Math.round(r.temp.min),max:Math.round(r.temp.max),humidity:i.humidity,dew_point:i.dew_point,pressure:i.pressure,visibility:i.visibility,sunrise:i.sunrise,sunset:i.sunset,windSpeed:i.wind_speed,windGust:i.wind_gust||0,windDeg:i.wind_deg,precipitation:r.rain||0,timezoneOffset:n.timezone_offset,daily:n.daily,aqi:o}}async function H(e){const{lat:t,lon:n}=await O(e);return Q(t,n)}async function ne(e){const{lat:t,lon:n}=await O(e);return(await q(t,n)).hourly.slice(0,20).map(a=>({time:new Date(a.dt*1e3).toLocaleTimeString("ru-RU",{hour:"2-digit"}),temp:a.temp,icon:a.weather[0].icon}))}async function q(e,t){return(await fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${t}&units=metric&exclude=minutely,alerts&lang=ru&appid=${z}`)).json()}async function ae(e,t){var a,i;return((i=(a=(await(await fetch(`https://api.openweathermap.org/data/2.5/air_pollution?lat=${e}&lon=${t}&appid=${z}`)).json()).list[0])==null?void 0:a.main)==null?void 0:i.aqi)||1}const P={ru:{Search:"ĞŸĞ¾Ğ¸ÑĞº",add:"Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ +",deleteAll:"Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ",MAX:"ĞœĞ°ĞºÑ.:",MIN:"ĞœĞ¸Ğ½.:",currentCity:"Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ Ğ¼ĞµÑÑ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ",feels:"ĞŸĞ¾ Ğ¾Ñ‰ÑƒÑ‰ĞµĞ½Ğ¸ÑĞ¼ ĞºĞ°Ğº:",hourlyTitle:"ĞŸĞĞ§ĞĞ¡ĞĞ’ĞĞ™ ĞŸĞ ĞĞ“ĞĞĞ—",airQuality:"ĞšĞĞ§Ğ•Ğ¡Ğ¢Ğ’Ğ Ğ’ĞĞ—Ğ”Ğ£Ğ¥Ğ",noLabel:"ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…",veryGood:"ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğµ",good:"Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞµĞµ",notGood:"Ğ£Ğ´Ğ¾Ğ²Ğ»ĞµÑ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ",bad:"ĞŸĞ»Ğ¾Ñ…Ğ¾Ğµ",veryBad:"ĞÑ‡ĞµĞ½ÑŒ Ğ¿Ğ»Ğ¾Ñ…Ğ¾Ğµ",clearAir:"Ğ’Ğ¾Ğ·Ğ´ÑƒÑ… Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹, Ğ±ĞµĞ· Ğ²Ñ€ĞµĞ´Ğ° Ğ´Ğ»Ñ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ",goodQuality:"ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞµĞµ, Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ Ğ´Ğ»Ñ Ğ²ÑĞµÑ…",easeBadAir:"Ğ›Ñ‘Ğ³ĞºĞ¾Ğµ Ñ€Ğ°Ğ·Ğ´Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñƒ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ…",badAir:"Ğ’Ñ€ĞµĞ´Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ»ÑĞ´ĞµĞ¹ Ñ Ğ·Ğ°Ğ±Ğ¾Ğ»ĞµĞ²Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸",dangerous:"ĞĞ¿Ğ°ÑĞ½Ğ¾ Ğ´Ğ»Ñ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ, Ğ¸Ğ·Ğ±ĞµĞ³Ğ°Ñ‚ÑŒ ÑƒĞ»Ğ¸Ñ†Ñ‹",today:"Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ",dailyTitle:"ĞŸĞ ĞĞ“ĞĞĞ— ĞĞ 10 Ğ”ĞĞ•Ğ™",feelsLike:"ĞĞ©Ğ£Ğ©ĞĞ•Ğ¢Ğ¡Ğ¯ ĞšĞĞš",fackt:"Ğ¤Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸:",veryCold:"ĞÑ‡ĞµĞ½ÑŒ Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ½Ğ¾",cold:"ĞŸÑ€Ğ¾Ñ…Ğ»Ğ°Ğ´Ğ½Ğ¾",comfort:"ĞšĞ¾Ğ¼Ñ„Ğ¾Ñ€Ñ‚Ğ½Ğ¾",warm:"Ğ¢ĞµĞ¿Ğ»Ğ¾",hot:"Ğ–Ğ°Ñ€ĞºĞ¾",humidity:"Ğ’Ğ›ĞĞ–ĞĞĞ¡Ğ¢Ğ¬",devPoint:"Ğ¢Ğ¾Ñ‡ĞºĞ° Ñ€Ğ¾ÑÑ‹:",pressure:"Ğ”ĞĞ’Ğ›Ğ•ĞĞ˜Ğ•",Gpa:"Ğ³ĞŸĞ°",up:"Ğ’Ğ¾ÑÑ…Ğ¾Ğ´",down:"Ğ—Ğ°ĞºĞ°Ñ‚",meters:"Ğ¼",kilomiters:"ĞºĞ¼",visibility:"Ğ’Ğ˜Ğ”Ğ˜ĞœĞĞ¡Ğ¢Ğ¬",veryGoodVisibility:"Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ",goodVisibility:"Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ°Ñ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ",mediumVisibility:"Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ",badVisibility:"ĞŸĞ»Ğ¾Ñ…Ğ°Ñ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ",wind:"Ğ’Ğ•Ğ¢Ğ•Ğ ",speed:"ĞºĞ¼/Ñ‡",gusts:"ĞŸĞ¾Ñ€Ñ‹Ğ²Ñ‹",deg:"ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ",s:"Ğ¡",sv:"Ğ¡Ğ’",v:"Ğ’",uv:"Ğ®Ğ’",u:"Ğ®",uz:"Ğ®Ğ—",z:"Ğ—",sz:"Ğ¡Ğ—",Not:"ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾",weekdays:["Ğ’Ñ","ĞŸĞ½","Ğ’Ñ‚","Ğ¡Ñ€","Ğ§Ñ‚","ĞŸÑ‚","Ğ¡Ğ±"]},ua:{Search:"ĞŸĞ¾ÑˆÑƒĞº",add:"Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ +",deleteAll:"Ğ’Ğ¸Ğ´Ğ°Ğ»Ğ¸Ñ‚Ğ¸ Ğ²ÑĞµ",MAX:"ĞœĞ°ĞºÑ.:",MIN:"ĞœÑ–Ğ½.:",currentCity:"ĞŸĞ¾Ñ‚Ğ¾Ñ‡Ğ½Ğµ Ğ¼Ñ–ÑÑ†Ğµ",feels:"Ğ’Ñ–Ğ´Ñ‡ÑƒĞ²Ğ°Ñ”Ñ‚ÑŒÑÑ ÑĞº:",hourlyTitle:"ĞŸĞĞ“ĞĞ”Ğ ĞŸĞ Ğ“ĞĞ”Ğ˜ĞĞĞ¥",airQuality:"Ğ¯ĞšĞ†Ğ¡Ğ¢Ğ¬ ĞŸĞĞ’Ğ†Ğ¢Ğ Ğ¯",noLabel:"ĞĞµĞ¼Ğ°Ñ” Ğ´Ğ°Ğ½Ğ¸Ñ…",veryGood:"Ğ’Ñ–Ğ´Ğ¼Ñ–Ğ½Ğ½Ğ°",good:"Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ°",notGood:"Ğ—Ğ°Ğ´Ğ¾Ğ²Ñ–Ğ»ÑŒĞ½Ğ°",bad:"ĞŸĞ¾Ğ³Ğ°Ğ½Ğ°",veryBad:"Ğ”ÑƒĞ¶Ğµ Ğ¿Ğ¾Ğ³Ğ°Ğ½Ğ°",clearAir:"ĞŸĞ¾Ğ²Ñ–Ñ‚Ñ€Ñ Ñ‡Ğ¸ÑÑ‚Ğµ, Ğ±ĞµĞ·Ğ¿ĞµÑ‡Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²'Ñ",goodQuality:"Ğ¯ĞºÑ–ÑÑ‚ÑŒ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ°, Ğ±ĞµĞ·Ğ¿ĞµÑ‡Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ²ÑÑ–Ñ…",easeBadAir:"ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ğµ Ğ»ĞµĞ³ĞºĞµ Ğ¿Ğ¾Ğ´Ñ€Ğ°Ğ·Ğ½ĞµĞ½Ğ½Ñ Ñƒ Ñ‡ÑƒÑ‚Ğ»Ğ¸Ğ²Ğ¸Ñ… Ğ»ÑĞ´ĞµĞ¹",badAir:"Ğ¨ĞºÑ–Ğ´Ğ»Ğ¸Ğ²Ğ¾ Ğ´Ğ»Ñ Ğ»ÑĞ´ĞµĞ¹ Ñ–Ğ· Ğ·Ğ°Ñ…Ğ²Ğ¾Ñ€ÑĞ²Ğ°Ğ½Ğ½ÑĞ¼Ğ¸",dangerous:"ĞĞµĞ±ĞµĞ·Ğ¿ĞµÑ‡Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²â€™Ñ, ÑƒĞ½Ğ¸ĞºĞ°Ğ¹Ñ‚Ğµ Ğ²ÑƒĞ»Ğ¸Ñ†Ñ–",today:"Ğ¡ÑŒĞ¾Ğ³Ğ¾Ğ´Ğ½Ñ–",dailyTitle:"ĞŸĞ ĞĞ“ĞĞĞ— ĞĞ 10 Ğ”ĞĞ†Ğ’",feelsLike:"Ğ’Ğ†Ğ”Ğ§Ğ£Ğ’ĞĞ„Ğ¢Ğ¬Ğ¡Ğ¯ Ğ¯Ğš",fackt:"Ğ¤Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¾:",veryCold:"Ğ”ÑƒĞ¶Ğµ Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ½Ğ¾",cold:"ĞŸÑ€Ğ¾Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ½Ğ¾",comfort:"ĞšĞ¾Ğ¼Ñ„Ğ¾Ñ€Ñ‚Ğ½Ğ¾",warm:"Ğ¢ĞµĞ¿Ğ»Ğ¾",hot:"Ğ–Ğ°Ñ€ĞºĞ¾",humidity:"Ğ’ĞĞ›ĞĞ“Ğ†Ğ¡Ğ¢Ğ¬",devPoint:"Ğ¢Ğ¾Ñ‡ĞºĞ° Ñ€Ğ¾ÑĞ¸:",pressure:"Ğ¢Ğ˜Ğ¡ĞĞ¯Ğ’Ğ˜Ğ™",Gpa:"Ğ³ĞŸĞ°",up:"Ğ¡Ñ…Ñ–Ğ´",down:"Ğ—Ğ°Ñ…Ñ–Ğ´",meters:"Ğ¼",kilomiters:"ĞºĞ¼",visibility:"Ğ’Ğ˜Ğ”Ğ˜ĞœĞ†Ğ¡Ğ¢Ğ¬",veryGoodVisibility:"Ğ†Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ° Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ñ–ÑÑ‚ÑŒ",goodVisibility:"Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ° Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ñ–ÑÑ‚ÑŒ",mediumVisibility:"Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ñ–ÑÑ‚ÑŒ",badVisibility:"ĞŸĞ¾Ğ³Ğ°Ğ½Ğ° Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ñ–ÑÑ‚ÑŒ",wind:"Ğ’Ğ†Ğ¢Ğ•Ğ ",speed:"ĞºĞ¼/Ğ³Ğ¾Ğ´",gusts:"ĞŸĞ¾Ñ€Ğ¸Ğ²Ğ¸",deg:"ĞĞ°Ğ¿Ñ€ÑĞ¼Ğ¾Ğº",s:"ĞŸĞ½",sv:"ĞŸĞ½Ğ¡Ñ…",v:"Ğ¡Ñ…",uv:"ĞŸĞ´Ğ¡Ñ…",u:"ĞŸĞ´",uz:"ĞŸĞ´Ğ—Ñ…",z:"Ğ—Ñ…",sz:"ĞŸĞ½Ğ—Ñ…",Not:"ĞĞµĞ²Ñ–Ğ´Ğ¾Ğ¼Ğ¾",weekdays:["ĞĞ´","ĞŸĞ½","Ğ’Ñ‚","Ğ¡Ñ€","Ğ§Ñ‚","ĞŸÑ‚","Ğ¡Ğ±"]},cz:{Search:"Hledat",add:"PÅ™idat +",deleteAll:"Smazat vÅ¡e",MAX:"Max.:",MIN:"Min.:",currentCity:"AktuÃ¡lnÃ­ poloha",feels:"PocitovÄ›:",hourlyTitle:"HODINOVÃ PÅ˜EDPOVÄšÄ",airQuality:"KVALITA OVZDUÅ Ã",noLabel:"Å½Ã¡dnÃ¡ data",veryGood:"VÃ½bornÃ¡",good:"DobrÃ¡",notGood:"UspokojivÃ¡",bad:"Å patnÃ¡",veryBad:"Velmi Å¡patnÃ¡",clearAir:"ÄŒistÃ½ vzduch, bez zdravotnÃ­ho rizika",goodQuality:"DobrÃ¡ kvalita, bezpeÄnÃ© pro vÅ¡echny",easeBadAir:"MÃ­rnÃ© podrÃ¡Å¾dÄ›nÃ­ pro citlivÃ© osoby",badAir:"Å kodlivÃ© pro osoby s nemocemi",dangerous:"NebezpeÄnÃ© pro zdravÃ­, vyhÃ½bejte se venku",today:"Dnes",dailyTitle:"PÅ˜EDPOVÄšÄ NA 10 DNÃ",feelsLike:"POCITOVÄš",fackt:"SkuteÄnÄ›:",veryCold:"Velmi chladno",cold:"Chladno",comfort:"PÅ™Ã­jemnÄ›",warm:"Teplo",hot:"Horko",humidity:"VLHKOST",devPoint:"RosnÃ½ bod:",pressure:"TLAK",Gpa:"hPa",up:"VÃ½chod",down:"ZÃ¡pad",meters:"m",kilomiters:"km",visibility:"VIDITELNOST",veryGoodVisibility:"PerfektnÃ­ viditelnost",goodVisibility:"DobrÃ¡ viditelnost",mediumVisibility:"StÅ™ednÃ­ viditelnost",badVisibility:"Å patnÃ¡ viditelnost",wind:"VÃTR",speed:"km/h",gusts:"NÃ¡razy",deg:"SmÄ›r",s:"S",sv:"SV",v:"V",uv:"JV",u:"J",uz:"JZ",z:"Z",sz:"SZ",Not:"NeznÃ¡mÃ©",weekdays:["Ne","Po","Ãšt","St","ÄŒt","PÃ¡","So"]},en:{Search:"Search",add:"Add +",deleteAll:"Delete all",MAX:"Max:",MIN:"Min:",currentCity:"Current location",feels:"Feels like:",hourlyTitle:"HOURLY FORECAST",airQuality:"AIR QUALITY",noLabel:"No data",veryGood:"Excellent",good:"Good",notGood:"Moderate",bad:"Poor",veryBad:"Very Poor",clearAir:"Clean air, no health risk",goodQuality:"Good quality, safe for everyone",easeBadAir:"Slight irritation for sensitive people",badAir:"Harmful for people with conditions",dangerous:"Dangerous, avoid going outside",today:"Today",dailyTitle:"10-DAY FORECAST",feelsLike:"FEELS LIKE",fackt:"Actual:",veryCold:"Very cold",cold:"Cool",comfort:"Comfortable",warm:"Warm",hot:"Hot",humidity:"HUMIDITY",devPoint:"Dew point:",pressure:"PRESSURE",Gpa:"hPa",up:"Sunrise",down:"Sunset",meters:"m",kilomiters:"km",visibility:"VISIBILITY",veryGoodVisibility:"Perfect visibility",goodVisibility:"Good visibility",mediumVisibility:"Moderate visibility",badVisibility:"Poor visibility",wind:"WIND",speed:"km/h",gusts:"Gusts",deg:"Direction",s:"N",sv:"NE",v:"E",uv:"SE",u:"S",uz:"SW",z:"W",sz:"NW",Not:"Unknown",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}};function j(e){if(!e||!e.city)return console.warn("Header Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ» Ğ½ĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ:",e),document.createElement("div");const t=localStorage.getItem("lang")||"ru",n=P[t],o=document.createElement("header");o.className="header";const a=document.createElement("div");a.className="HeaderLocation",a.textContent=e.city,o.appendChild(a);const i=document.createElement("div");if(i.className="HeaderTemperature",i.textContent=`${e.temperature}Â°`,o.appendChild(i),e.feels_like!==void 0){const r=document.createElement("div");r.className="HeaderFeels",r.textContent=` ${n.feels} ${e.feels_like}Â°`,o.appendChild(r)}if(e.min!==void 0&&e.max!==void 0){const r=document.createElement("div");r.className="HeaderMinMax",r.textContent=`${n.MAX} ${e.max}Â°, ${n.MIN} ${e.min}Â°`,o.appendChild(r)}return o}function ie({time:e,temp:t,icon:n}){const o=document.createElement("div");o.className="hour-card";const a=document.createElement("div");a.className="hour-time",a.textContent=e;const i=document.createElement("div");i.className="hour-icon",i.textContent=oe(n);const r=document.createElement("div");return r.className="hour-temp",r.textContent=`${Math.round(t)}Â°`,o.appendChild(a),o.appendChild(i),o.appendChild(r),o}function oe(e){return{"01d":"â˜€ï¸","01n":"ğŸŒ™","02d":"â›…ï¸","02n":"â˜ï¸","03d":"ğŸŒ¥ï¸","03n":"ğŸŒ¥ï¸","04d":"â˜ï¸","04n":"â˜ï¸","09d":"ğŸŒ§ï¸","09n":"ğŸŒ§ï¸","10d":"ğŸŒ¦ï¸","10n":"ğŸŒ§ï¸","11d":"â›ˆï¸","11n":"ğŸŒ©ï¸","13d":"â„ï¸","13n":"â„ï¸"}[e]||"â“"}function re(e,t=!1,n=!1){const o=new Date(e.dt*1e3),a=new Date,i=localStorage.getItem("lang")||"ru",r=P[i],p=o.getDate()===a.getDate()&&o.getMonth()===a.getMonth()&&o.getFullYear()===a.getFullYear(),l=o.getDay(),s=p?r.today:r.weekdays[l];function m(h){return h.charAt(0).toUpperCase()+h.slice(1)}const v=ce(e.weather[0].icon),T=e.pop?Math.round(e.pop*100):0,S=Math.round(e.temp.min),$=Math.round(e.temp.max),E=document.createElement("div");if(E.className="daily-wrapper",t){const h=document.createElement("div");h.className="header-card";const C=document.createElement("i");C.className="fa-regular fa-calendar-days icon";const w=document.createElement("div");w.className="daily-title title",w.textContent=r.dailyTitle,h.appendChild(C),h.appendChild(w),E.appendChild(h);const N=document.createElement("hr");N.className="underline",E.appendChild(N)}const I=document.createElement("div");I.className="daily-card";const L=document.createElement("div");L.className="daily-week",L.textContent=m(s);const D=document.createElement("div");D.className="icon-rain-wrapper";const d=document.createElement("div");if(d.className="daily-icon",d.textContent=v,D.appendChild(d),T>0){const h=document.createElement("div");h.className="daily-rain",h.textContent=`${T}%`,D.appendChild(h)}const c=document.createElement("div");c.className="daily-temp-bar";const g=document.createElement("span");g.className="temp-min",g.textContent=`${S}Â°`;const f=document.createElement("div");f.className="bar",f.style.width=`${($-S)*4}px`,f.style.background=de(S,$);const u=document.createElement("span");if(u.className="temp-max",u.textContent=`${$}Â°`,c.appendChild(g),c.appendChild(f),c.appendChild(u),I.appendChild(L),I.appendChild(D),I.appendChild(c),E.appendChild(I),!n){const h=document.createElement("hr");h.className="underline",E.appendChild(h)}return E}function ce(e){return{"01d":"â˜€ï¸","01n":"ğŸŒ™","02d":"â›…ï¸","02n":"â˜ï¸","03d":"ğŸŒ¥ï¸","03n":"ğŸŒ¥ï¸","04d":"â˜ï¸","04n":"â˜ï¸","09d":"ğŸŒ§ï¸","09n":"ğŸŒ§ï¸","10d":"ğŸŒ¦ï¸","10n":"ğŸŒ§ï¸","11d":"â›ˆï¸","11n":"ğŸŒ©ï¸","13d":"â„ï¸","13n":"â„ï¸"}[e]||"â“"}function de(e,t){return t<=0?"linear-gradient(to right, #001f3f, #0074D9)":t>0&&t<=5?"linear-gradient(to right, #0074D9, #7FDBFF)":t>5&&t<=15?"linear-gradient(to right, #7FDBFF, #FFE066)":t>15&&t<=25?"linear-gradient(to right, #FFE066, orange)":"linear-gradient(to right, orange, red)"}function se(e){const t=localStorage.getItem("lang")||"ru",n=P[t],a=e<1e3?`${e} ${n.meters}`:`${(e/1e3).toFixed(1)} ${n.kilomiters}`,i=le(e,n),r=document.createElement("div");r.className="card visibility-card";const p=document.createElement("div");p.className="header-card header";const l=document.createElement("i");l.className="fa-solid fa-eye icon";const s=document.createElement("div");s.className="title",s.textContent=n.visibility,p.appendChild(l),p.appendChild(s);const m=document.createElement("div");m.className="value-visibility",m.textContent=a;const v=document.createElement("div");return v.className="label-visibility",v.textContent=i,r.appendChild(p),r.appendChild(m),r.appendChild(v),r}function le(e,t){const n=e/1e3;return n>9?t.veryGoodVisibility:n>5?t.goodVisibility:n>3?t.mediumVisibility:t.badVisibility}function me(e,t){const n=localStorage.getItem("lang")||"ru",o=P[n],a=ue(e,o),i=document.createElement("div");i.className="card feels-card";const r=document.createElement("div");r.className="header-card";const p=document.createElement("i");p.className="fa-solid fa-temperature-three-quarters feels-icon icon";const l=document.createElement("div");l.className="title",l.textContent=o.feelsLike,r.appendChild(p),r.appendChild(l);const s=document.createElement("div");s.className="value-feels",s.textContent=`${Math.round(e)}Â°`;const m=document.createElement("div");m.className="feels-fact",m.textContent=`${o.fackt} ${Math.round(t)}Â°`;const v=document.createElement("div");return v.className="label-fells",v.textContent=a,i.appendChild(r),i.appendChild(s),i.appendChild(m),i.appendChild(v),i}function ue(e,t){return e<=0?t.veryCold:e<=10?t.cold:e<=20?t.comfort:e<=30?t.warm:t.hot}function pe(e,t){const n=localStorage.getItem("lang")||"ru",o=P[n],a=document.createElement("div");a.className="card humidity-card";const i=document.createElement("div");i.className="header-card";const r=document.createElement("i");r.className="fa-solid fa-droplet";const p=document.createElement("span");p.className="title",p.textContent=o.humidity,i.appendChild(r),i.appendChild(p);const l=document.createElement("div");l.className="value-humidity",l.textContent=`${e}%`;const s=document.createElement("div");return s.className="dew-point",s.textContent=`${o.devPoint} ${Math.round(t)}Â°`,a.appendChild(i),a.appendChild(l),a.appendChild(s),a}function he(e){const t=localStorage.getItem("lang")||"ru",n=P[t],o=document.createElement("div");o.className="air-quality-card card";const a=document.createElement("div");a.className="header-card";const i=document.createElement("i");i.className="fa-solid fa-wind icon";const r=document.createElement("div");r.className="title",r.textContent=n.airQuality,a.appendChild(i),a.appendChild(r);const p=document.createElement("div");p.className="label-air",p.textContent=fe(e,n);const l=document.createElement("div");l.className="air-bar";const s=document.createElement("div");s.className="air-indicator",s.style.left=`${(e-1)*25}%`,l.appendChild(s);const m=document.createElement("div");return m.className="note-air",m.textContent=ye(e,n),o.appendChild(a),o.appendChild(p),o.appendChild(l),o.appendChild(m),o}function fe(e,t){return[t.noLabel,t.veryGood,t.good,t.notGood,t.bad,t.veryBad][e]||t.noLabel}function ye(e,t){return["",t.clearAir,t.goodQuality,t.easeBadAir,t.badAir,t.dangerous][e]||t.noLabel}function ve(e,t,n){const o=localStorage.getItem("lang")||"ru",a=P[o],r=Math.floor(Date.now()/1e3)+n;let p,l,s;r>=t?(p=a.up,l=R(e+86400,n),s=`${a.down} ${R(t+86400,n)}`):(p=a.down,l=R(t,n),s=`${a.up} ${R(e,n)}`);const m=document.createElement("div");m.className="card sun-card";const v=document.createElement("div");v.className="header-card header";const T=document.createElement("i");T.className=p===a.up?"fa-solid fa-sun icon":"fa-solid fa-moon icon";const S=document.createElement("div");S.className="title",S.textContent=p;const $=document.createElement("div");$.className="value sun-value",$.textContent=l;const E=document.createElement("div");return E.className="label sun-label",E.textContent=s,v.appendChild(T),v.appendChild(S),m.appendChild(v),m.appendChild($),m.appendChild(E),m}function R(e,t){const n=(e+t)*1e3;return new Intl.DateTimeFormat("ru-RU",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).format(new Date(n))}function ge(e){const t=localStorage.getItem("lang")||"ru",n=P[t],o=document.createElement("div");o.className="pressure-card card";const a=document.createElement("div");a.className="header-pressure header-card";const i=document.createElement("i");i.className="fa-solid fa-gauge icon";const r=document.createElement("div");r.className="header-title title",r.textContent=n.pressure,a.appendChild(i),a.appendChild(r);const p=document.createElement("div");p.className="main-pressure";const l=document.createElement("div");l.className="pressure-value",l.textContent=`${e}`;const s=document.createElement("div");return s.className="pressure-text",s.textContent=n.Gpa,p.appendChild(l),p.appendChild(s),o.appendChild(a),o.appendChild(p),o}function Ce(e){const t=document.createElement("div");t.className="card precipitation-card";const n=document.createElement("div");n.className="precipitation-header header";const o=document.createElement("span");o.className="material-symbols-outlined icon",o.textContent="humidity_high";const a=document.createElement("div");a.className="precipitation-title",a.textContent="ĞĞ¡ĞĞ”ĞšĞ˜",n.appendChild(o),n.appendChild(a);const i=document.createElement("div");return i.className="precipitation-value",i.textContent=`${e??0} Ğ¼Ğ¼`,t.appendChild(n),t.appendChild(i),t}function Ee(e,t,n){const o=localStorage.getItem("lang")||"ru",a=P[o],i=document.createElement("div");i.className="card wind-card";const r=document.createElement("div");r.className="header-wind header-card";const p=document.createElement("i");p.className="fa-solid fa-wind icon";const l=document.createElement("div");l.className="title",l.textContent=a.wind,r.appendChild(p),r.appendChild(l);const s=document.createElement("div");s.className="container-wind-speed";const m=document.createElement("div");m.className="wind-speed-left",m.textContent=a.wind;const v=document.createElement("div");v.className="value-wind",v.textContent=`${e} ${a.speed}`,s.appendChild(m),s.appendChild(v);const T=document.createElement("hr");T.className="underline";const S=document.createElement("div");S.className="container-gust-text";const $=document.createElement("div");$.className="guest-text-left",$.textContent=a.gusts;const E=document.createElement("div");E.className="label-gust",E.textContent=`${t} ${a.speed}`,S.appendChild($),S.appendChild(E);const I=document.createElement("hr");I.className="underline";const L=document.createElement("div");L.className="container-dirextion-text";const D=document.createElement("div");D.className="direction-left",D.textContent=a.deg;const d=document.createElement("div");return d.className="label-direction",d.textContent=`${n}Â° ${we(n,a)}`,L.appendChild(D),L.appendChild(d),i.appendChild(r),i.appendChild(s),i.appendChild(T),i.appendChild(S),i.appendChild(I),i.appendChild(L),i}function we(e,t){return e>=337.5||e<22.5?t.s:e>=22.5&&e<67.5?t.sv:e>=67.5&&e<112.5?t.v:e>=112.5&&e<157.5?t.uv:e>=157.5&&e<202.5?t.u:e>=202.5&&e<247.5?t.uz:e>=247.5&&e<292.5?t.z:e>=292.5&&e<337.5?t.sz:t.Not}function Z(e,t,n,o,a,i,r,p,l,s,m,v,T,S,$,E){const I=document.createElement("main");I.className="main";const L=window.innerWidth,D=document.createElement("div");D.className="hourly-wrapper card";const d=document.createElement("div");d.className="hourly-header header-card";const c=document.createElement("i");c.className="fa-regular fa-clock icon";const g=document.createElement("div");g.className="hourly-title title",g.textContent="ĞŸĞĞ§ĞĞ¡ĞĞ’ĞĞ™ ĞŸĞ ĞĞ“ĞĞĞ—";const f=document.createElement("hr");f.className="second-underline",d.append(c,g),D.append(d,f);const u=document.createElement("div");u.className="hourly-container",e.forEach(x=>{const k=ie(x);u.appendChild(k)}),D.appendChild(u),I.appendChild(D);const h=document.createElement("div");h.className="bottom-wrapper";const C=document.createElement("div");C.className="daily-container card",r.slice(0,10).forEach((x,k,V)=>{const B=k===0,F=k===V.length-1,te=re(x,B,F);C.appendChild(te)});const w=se(t),N=me(n,i),A=pe(o,a),b=he(s),M=ve(p,l,m),_=ge(v);Ce(T);const G=Ee(S,$,E),W=document.createElement("div");if(W.className="extra-cards",L>=990){W.append(G,b);const x=document.createElement("div");x.className="sun-air-pres-wrapper",x.append(M,w,_);const k=document.createElement("div");k.className="humidity-feels-wrapper",k.append(A,N),W.append(x,k),h.append(C,W)}else if(L>=750){const x=document.createElement("div");x.className="first-block";const k=document.createElement("div");k.className="right-first-block",k.append(A,N,w),x.append(C,k);const V=document.createElement("div");V.className="second-block";const B=document.createElement("div");B.className="right-second-block",B.append(_,M);const F=document.createElement("div");F.className="left-second-block",F.append(G,b),V.append(F,B),W.append(x,V),h.append(W)}else{const x=document.createElement("div");x.className="block",x.appendChild(C);const k=document.createElement("div");k.className="second-block",k.appendChild(w),k.appendChild(N);const V=document.createElement("div");V.className="third-block",V.appendChild(M),V.appendChild(A),x.appendChild(k),x.appendChild(b),x.appendChild(V),x.appendChild(G),h.appendChild(x)}return I.appendChild(h),I}window.addEventListener("resize",()=>{});function Ne(){const e=localStorage.getItem("lang")||"ru",t=P[e],n=document.createElement("nav");n.className="nav";const o=document.createElement("i");o.className="fa-solid fa-bars";const a=document.createElement("div");a.className="menu-panel";const i=document.createElement("div");i.className="favorites-container",a.appendChild(i),document.body.appendChild(a);const r=document.createElement("form");r.className="search-form",r.addEventListener("submit",d=>d.preventDefault());const p=document.createElement("span");p.className="material-symbols-outlined search-icon",p.textContent="search";const l=document.createElement("input");l.placeholder=t.Search,l.className="search-input";const s=document.createElement("button");s.textContent=t.add,s.className="add-button",s.style.display="none";let m="",v;l.addEventListener("input",()=>{m=l.value.trim(),clearTimeout(v),v=setTimeout(()=>{if(!m)return;if(!/^[a-zA-Z\s\-]+$/.test(m)){s.style.display="none";return}m=m.charAt(0).toUpperCase()+m.slice(1).toLowerCase();const u=JSON.parse(localStorage.getItem("favorites")||"[]").includes(m);s.style.display=u?"none":"inline-block",E(m)},800)}),s.addEventListener("click",()=>{const d=JSON.parse(localStorage.getItem("favorites")||"[]");d.includes(m)||(d.push(m),localStorage.setItem("favorites",JSON.stringify(d)),T()),s.style.display="none"}),r.append(s,p,l),n.append(o,r),o.addEventListener("click",()=>{const d=a.classList.toggle("open");document.body.classList.toggle("menu-open",d)});async function T(){i.innerHTML="";let d=sessionStorage.getItem("geoCity"),c;if(d)c=await H(d);else try{const f=await new Promise((C,w)=>navigator.geolocation.getCurrentPosition(C,w)),u=f.coords.latitude,h=f.coords.longitude;c=await Q(u,h),d=c.city,sessionStorage.setItem("geoCity",d)}catch{console.warn("Ğ“ĞµĞ¾Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ñ Ğ½Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ°")}if(c){const f=Math.floor(Date.now()/1e3),u=L(c.daily[0].weather[0].icon,f,c.sunrise,c.sunset),h=$(c.city,c,u,!0);i.appendChild(h)}const g=JSON.parse(localStorage.getItem("favorites")||"[]");for(const f of g)if(!(d&&f===d))try{const u=await H(f),h=Math.floor(Date.now()/1e3)+u.timezoneOffset,C=L(u.daily[0].weather[0].icon,h,u.sunrise,u.sunset),w=$(f,u,C);i.appendChild(w)}catch(u){console.error(`ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ${f}`,u)}if(g.length>0){const f=document.createElement("div");f.className="container-delete";const u=document.createElement("button");u.className="delete-button",u.textContent=t.deleteAll;const h=document.createElement("i");h.className="fa-solid fa-trash",f.addEventListener("click",()=>{localStorage.removeItem("favorites"),T()}),f.appendChild(u),f.appendChild(h),i.appendChild(f)}S()}function S(){let d=document.querySelector(".container-language");d&&d.remove(),d=document.createElement("div"),d.className="container-language",[{code:"ru",label:"RU"},{code:"en",label:"EN"},{code:"ua",label:"UA"},{code:"cz",label:"CZ"}].forEach(({code:g,label:f})=>{const u=document.createElement("button");u.className="lang-button",u.textContent=f,u.addEventListener("click",()=>{localStorage.setItem("lang",g),location.reload()}),d.appendChild(u)}),a.appendChild(d)}function $(d,c,g,f=!1){const u=document.createElement("div");u.className="city-card",f&&u.classList.add("geo-card"),window.innerWidth<600&&(u.style.background=g),u.addEventListener("click",()=>{E(d),window.innerWidth<600&&(document.body.classList.remove("menu-open"),a.classList.remove("open"))});const h=document.createElement("div");h.className="left-container";const C=document.createElement("div");if(C.className="city",C.textContent=D(c.city),h.appendChild(C),f){const M=document.createElement("div");M.className="location-label",M.textContent=t.currentCity,h.appendChild(M)}else{const M=document.createElement("div");M.className="time";const _=Date.now(),G=c.timezoneOffset*1e3,W=new Date(_+G);M.textContent=W.toLocaleTimeString("ru-RU",{timeZone:"UTC",hour:"2-digit",minute:"2-digit"}),h.appendChild(M)}const w=document.createElement("div");w.className="weather",w.textContent=D(c.daily[0].weather[0].description),h.appendChild(w);const N=document.createElement("div");N.className="right-container";const A=document.createElement("div");A.className="temp",A.textContent=`${Math.round(c.temperature)}Â°`;const b=document.createElement("div");return b.className="min-max",b.textContent=`${t.MAX} ${Math.round(c.max)}Â°, ${t.MIN} ${Math.round(c.min)}Â°`,N.append(A,b),u.append(h,N),u}function E(d){H(d).then(c=>{const g=document.querySelector("#app"),f=document.body.classList.contains("menu-open"),u=document.querySelector(".content-wrapper");u&&u.remove();const h=j(c),C=Math.floor(Date.now()/1e3),w=c.daily[0].weather[0].icon;I(w,C,c.sunrise,c.sunset),ne(d).then(N=>{const A=Z(N,c.visibility,c.feels_like,c.humidity,c.dew_point,c.temperature,c.daily,c.sunrise,c.sunset,c.aqi,c.timezoneOffset,c.pressure,c.precipitation,c.windSpeed,c.windGust,c.windDeg),b=document.createElement("div");b.className="content-wrapper",b.append(h,A),g.appendChild(b),f&&document.body.classList.add("menu-open")})})}function I(d,c,g,f){document.body.style.background=L(d,c,g,f)}function L(d,c,g,f){const u=g-1800,h=g+900,C=f-900,w=f+1800;let N;c<u?N="night":c<=h?N="dawn":c<C?N="day":c<=w?N="dusk":N="night";const A={day:{clear:"linear-gradient(to bottom, #2275b8, #5baee5)",clouds:"linear-gradient(to bottom, #a5aaaf, #72777d)",rain:"linear-gradient(to bottom, #4b79a1, #283e51)",snow:"linear-gradient(to bottom, #e6dada, #274046)",thunder:"linear-gradient(to bottom, #232526, #414345)"},night:{clear:"linear-gradient(to bottom, #0a1029, #1a2d5a)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"},dawn:{clear:"linear-gradient(to bottom, #2a4378, #a05971)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"},dusk:{clear:"linear-gradient(to bottom, #1c2a48, #4a6d91, #e0c79d)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"}};let b;return d.startsWith("01")?b="clear":/^(02|03|04)/.test(d)?b="clouds":/^(09|10)/.test(d)?b="rain":d.startsWith("11")?b="thunder":d.startsWith("13")?b="snow":b="clear",A[N][b]||A.day.clear}function D(d){return d.charAt(0).toUpperCase()+d.slice(1)}return T(),n}let y=null,Y="",J=null,X=1;const be=document.querySelector("#app");be.appendChild(Ne());navigator.geolocation.getCurrentPosition(async e=>{const t=e.coords.latitude,n=e.coords.longitude;try{const a=await(await fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${t}&lon=${n}&appid=${z}&units=metric&exclude=minutely,alerts`)).json(),p=(await(await fetch(`https://api.openweathermap.org/data/2.5/air_pollution?lat=${t}&lon=${n}&appid=${z}`)).json()).list[0].main.aqi,l=await U(t,n);y=a,Y=l,X=p,J=a.hourly.slice(0,20).map(s=>({time:new Date(s.dt*1e3).toLocaleTimeString("ru-RU",{hour:"2-digit"}),temp:s.temp,icon:s.weather[0].icon})),K(),xe()}catch(o){console.error("ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ·Ğ°:",o)}},e=>{alert("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ğ¼ĞµÑÑ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ"),console.warn(e)});function K(){const e=document.querySelector("#app"),t=document.querySelector(".content-wrapper");t&&t.remove();const n=Math.floor(Date.now()/1e3),o=y.daily[0].weather[0].icon;ee(o,y.current.sunrise,y.current.sunset,n);const a=j({city:Y,temperature:Math.round(y.current.temp),feels_like:Math.round(y.current.feels_like),min:Math.round(y.daily[0].temp.min),max:Math.round(y.daily[0].temp.max)}),i=Z(J,y.current.visibility,y.current.feels_like,y.current.humidity,y.current.dew_point,y.current.temp,y.daily,y.current.sunrise,y.current.sunset,X,y.timezone_offset,y.current.pressure,y.daily[0].rain||0,y.current.wind_speed,y.current.wind_gust||0,y.current.wind_deg),r=document.createElement("div");r.className="content-wrapper",r.appendChild(a),r.appendChild(i),e.appendChild(r)}window.addEventListener("resize",()=>{y&&K()});function ee(e,t,n,o){const a=t-1800,i=t+900,r=n-900,p=n+1800;let l;o<a?l="night":o<=i?l="dawn":o<r?l="day":o<=p?l="dusk":l="night";const s={day:{clear:"linear-gradient(to bottom, #2275b8, #5baee5)",clouds:"linear-gradient(to bottom, #a5aaaf, #72777d)",rain:"linear-gradient(to bottom, #4b79a1, #283e51)",snow:"linear-gradient(to bottom, #e6dada, #274046)",thunder:"linear-gradient(to bottom, #232526, #414345)"},night:{clear:"linear-gradient(to bottom, #0a1029, #1a2d5a)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"},dawn:{clear:"linear-gradient(to bottom, #2a4378, #a05971)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"},dusk:{clear:"linear-gradient(to bottom, #1c2a48, #4a6d91, #e0c79d)",clouds:"linear-gradient(to bottom, #43474e, #1e2227)"}};let m;e.startsWith("01")?m="clear":/^(02|03|04)/.test(e)?m="clouds":/^(09|10)/.test(e)?m="rain":e.startsWith("11")?m="thunder":e.startsWith("13")?m="snow":m="clear";const v=s[l][m]||s.day.clear;document.body.style.background=v}function xe(){setInterval(()=>{if(y){const e=Math.floor(Date.now()/1e3),t=y.daily[0].weather[0].icon;ee(t,y.current.sunrise,y.current.sunset,e)}},10*60*1e3)}
//# sourceMappingURL=main.js.map
